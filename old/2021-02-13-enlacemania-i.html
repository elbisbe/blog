---
layout: post
title: Enlacemanía [I]
date: 2021-02-13 19:27:50.000000000 +00:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Enlacemanía
tags: []
meta:
  _last_editor_used_jetpack: block-editor
  _wpas_is_tweetstorm: ''
  _publicize_job_id: '54731519054'
  timeline_notification: '1613244473'
  _coblocks_attr: ''
  _coblocks_dimensions: ''
  _coblocks_responsive_height: ''
  _coblocks_accordion_ie_support: ''
  _publicize_done_external: a:1:{s:7:"twitter";a:1:{i:1128139;s:54:"https://twitter.com/elbisbe/status/1360672060561784835";}}
  amp_status: ''
  _publicize_done_13615674: '1'
  spay_email: ''
  _wpas_done_1128139: '1'
  publicize_twitter_user: elbisbe
author:
  login: elbisbe1
  email: ernestoluisbisbe@gmail.com
  display_name: elbisbe
  first_name: Ernesto
  last_name: Luis Bisbé
permalink: "/2021/02/13/enlacemania-i/"
---
<p><!-- wp:paragraph --></p>
<p>A ver como explico esto. </p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p>Por las -1 personas que todavía recuerden que mi blog existen, habrán notado que no hago un uso exhausto de él, ni se puede decir que sea la obra de literatura más extensa que se haya escrito. Llevo tiempo queriendo escribir en él, pero nunca he sabido en qué pudiera orientar distintos artículos sin tampoco meterme mucho al trapo pero intentando dar un poco de luz en los temas más oscuros donde me esté metiendo (aunque sea obvio para algunos otros). Así que se me ha ocurrido esta idea: Escribir los findes de los artículos más interesantes que me haya encontrado durante la semana de la que trabajo. Si durante una semana no saco suficiente chicha para otro post (eso es que he tenido una semana tranquila) lo acumularé y lo sacaré eventualmente. Espero que le sirva a alguien tanto como me sirvieron a mí, supongo. Allá vamos:</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:paragraph --></p>
<p><em>Aviso: el contenido de los artículos está bastante relacionado con Java, Scala y Spark</em>.</p>
<p><!-- /wp:paragraph --></p>
<p><!-- wp:list --></p>
<ul>
<li>Resulta que en Scala no es lo mismo un Int (es la definición interna de Scala de un entero, <em>scala.Int</em>) que un Integer (que es el clásico<em> java.lang.Integer</em>). Aunque por lo general hay conversiones de manera implícita, parece que usando Option[] esta conversión no se la traga Java, lo cual es curioso, parece que tiene que ver con el tratamiento que hace Spark de las case classes para inferir el schema para los DataFrames. [<a rel="noreferrer noopener" href="https://stackoverflow.com/questions/55032063/spark-scala-int-vs-integer-for-option-vs-structtype" target="_blank">Link</a>]</li>
<li>Me hacía falta comprobar si un string era todo dígitos o no, y éste método me pareció bastante sencillo. [<a rel="noreferrer noopener" href="https://stackoverflow.com/questions/9938098/how-to-check-to-see-if-a-string-is-a-decimal-number-in-scala" target="_blank">Link</a>]</li>
<li>Por shenanigans probé a unir un Dataset de Spark Batch y Structured Streaming. Spoiler: no funciona [<a rel="noreferrer noopener" href="https://stackoverflow.com/questions/57626559/union-between-streaming-and-batch-dataframes-datasets-in-structuredstream" target="_blank">Link</a>] [<a rel="noreferrer noopener" href="https://stackoverflow.com/questions/57626559/union-between-streaming-and-batch-dataframes-datasets-in-structuredstream" target="_blank">Link</a>]</li>
<li>En HBase puedes hacer un get de una fila en concreto o un scan que analiza en una tabla las filas que te hagan falta. Aunque en principio intenté hacer un scan eficiente delimitando el principio y el fin de los rows a buscar, parece que sigue siendo x10 más rápido tirar de un get. <a rel="noreferrer noopener" href="https://stackoverflow.com/questions/14545595/performance-difference-between-scan-and-get" target="_blank">Este</a> link en concreto contradice lo que acabo de decir, pero me imagino que dependerá del número de regiones de tu HBase y otros detalles técnicos que escapan a mi entendimiento. [<a rel="noreferrer noopener" href="https://stackoverflow.com/questions/27146329/can-hbase-table-scan-with-timeranges-avoid-full-table-scans" target="_blank">Link variado</a>]</li>
<li>Sabéis AWK? Bueno, <a rel="noreferrer noopener" href="https://awk.js.org/" target="_blank">existe esto</a>. Ya me lo agradeceréis.</li>
<li>Estuve intentando comprender cómo iba el tema de logging y log4j en Scala, y resulta que es que en cada clase te creas el log correspondiente a esa clase e informas desde ahí con tus warn y tus info. ¡Y yo pensando que usabas un solo logger! Lo hace bastante cómodo porque el propio logger te informa de su clase y tal. TheMoreYouKnow™ [<a rel="noreferrer noopener" href="https://stackoverflow.com/questions/27833919/logger-in-log4j-is-getting-null" target="_blank">Link</a>]</li>
<li>Y por último, os dejo una línea de la expresión más bonita que he visto en mucho tiempo en programming: </li>
</ul>
<p><!-- /wp:list --></p>
<p><!-- wp:paragraph --></p>
<p>¡Hasta aquí el artículo de hoy! Nos vemos pronto. ¡Chao!</p>
<p><!-- /wp:paragraph --></p>
